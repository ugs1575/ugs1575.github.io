---
layout: default
title: TIL_230227
parent: Spring MVC1
last_modified_at: "23.02.27"
---

# TIL_230227
{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

## JPA 왜 써야할까
- SQL에 의존적인 개발을 피하기 어렵다.
- 객체지향 프로그래밍에서는 상속 관계가 존재한다.
- 예를들어 Item 이라는 상위 개념이 있고 하위에 Album, Movie, Book 이렇게 세가지가 있다고 하자. DB 관계에서는 Item 테이블과 하위 테이블들이 관계를 맺고 있을 것이다.
- Album을 조회한다고 하면 Item테이블과 Album테이블을 join해서 데이터를 가져올 것이다. 따라서 객체를 테이블에 맞추어 모델링을 하게 될 것이다. Item 클래스에는 album_id(FK)가 들어가게 될 것이다. 객체는 연관관계를 가져올 때 참조를 사용하고, 테이블은 외래키를 사용한다. 따라서 객체다운 모델링을 하려면 album_id가 아니라 album 객체가 들어가는 것이 맞을 것이다.
- 엔티티 신뢰 문제도 있다. 예를 들어 member 테이블이 있고 memberDAO.find()로 연관관계인 team을 가져온다고 하자. 이 find 메서드가 team을 가져온다는 보장이 있을까? 모든 객체를 미리 로딩할 수 없으니 상황에 따라 동일한 회원 조회 메서드가 여러개 생성될 수 있다. 따라서 자유로운 객체 그래프 탐색이 어렵다.



## Ref.
- <a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-2/dashboard">김영한님의 스프링 강의</a>
