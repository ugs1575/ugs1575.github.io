---
layout: default
title: TIL_221103
parent: HTTP
last_modified_at: "22.11.03"
---

# TIL_221103
{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

## IP (인터넷 프로토콜)
- 인터넷에서 컴퓨터 둘은 어떻게 통신할까?
- 복잡한인터넷 망에서 서로의 목적지를 알 수 있는 것이 IP주소 이다.
- 인터넷 프로토콜은 지정한 IP 주소에 패킷이라는 통신단위로 데이터를 전달한다.
- IP 패킷 정보는 규칙이 있는데 대략적으로 출발지 IP, 목적지 IP, 전송데이터 등을 포함한다.
- 클라이언트에서 패킷을 보내면 서버에서 잘 받았다는 응답을 보낸다.

### IP 프로토콜의 한계
- 비 연결성
  - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송한다.
  - ex) 목적지의 컴퓨터가 꺼져있어도 보낸다
- 비 신뢰성
  - 중간에 패킷이 소실되거나 보통 패킷을 나눠서 보내기 때문에 어떤 패킷은 다른 노드를 탈수가 있다. 따라서 순서대로 전송되지 않을 수 있다.
  - ex) hello world 를 전송 => world hello 도착
- 프로그램 구분
  - 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 여러개일 수 있다.
  - ex) 내 컴퓨터에서 영화도 보고 음악도 들으면 ip가 같다.

클라이언트도 서버를 믿을 수 있고 서버도 클라이언트를 믿을 수 있다.
TCP 연결은 진짜 연결이 된게 아님 물리적으로 연결이 보장된게 아니라 논리적으로만 연결된 거임
하나의 ip에서 여러 애플리케이션 구분 포트, 영화용패킷, 음악용 패킷 구분


## 인터넷 프로토콜 스택의 4계층
1. 애플리케이션 계층 - HTTP, FTP
  a. 프로그램이 Hello, world! 메시지 생성
  b. socket 라이브러리를 통해 전달
2. 전송 계층 - TCP, UDP
  c. TCP 정보 생성, 메시지 데이터 포함
    - 출발지 port, 목적지 port, 전송 제어, 순서, 검증 정보
3. 인터넷 계층 - IP
  d. IP 패킷 생성, TCP 데이터 포함
4. 네트워크 인터페이스 계층
- a->d까지 과정을 거치면 TCP/IP 패킷이 완성
- a => 전송데이터
- a~c => a + 출발지 port, 목적지 port, 전송 제어, 순서, 검증 정보
- a~d => a~c + 출발지 IP, 목적지 IP, 기타

## TCP 특징 (전송 제어 프로토콜 Transmission Control Protocol)
- 데이터 전달 보증
  - 3 way handshake 과정을 거치기 때문에 클라이언트도 서버를 믿을 수 있고 서버도 클라이언트를 믿을 수 있다.
  - 데이터를 전송하면 데이터를 잘 받았다는 응답을 준다.
- 순서보장
  - ex) 클라이언트: 패킷 1 2 3 순서로 전송 -> 서버: 1 3 2 순서로 도착 -> 서버: 패킷 2부터 다시 보내
- 신뢰할 수 있는 프로토콜이고 대부분 TCP 사용하고 있다. 

## UDP 특징 (사용자 데이터그램 프로토콜 User Datagram Protocol)
- 기능이 거의 없기 때문에 하얀 도화지에 비유한다.
- 연결지향 - TCP 3 way handshake X 
- 데이터 전달 보증 X
- 순서 보장 X
- IP 와 거의 같고 PORT + 체크섬 정도만 추가된거다. 
(port : 하나의 ip에서 여러 애플리케이션 구분 포트, 영화용패킷, 음악용 패킷 구분)
(체크섬 : 이 메시지에대해 제대로 맞는지 검증해주는 데이터)

### 장점
- TCP는 3way handshake 하면 시간도 오래걸림
- 연결을 보냇어 잘받아서 하면 데이터 양도 크고 전송 속도도 빠르게 만들기 어려움
- http3에 사용하면서 최적화해서 쓰임

## PORT
- 같은 IP 내에서 프로세스를 구분한다.
- ex) 클라이언트 (100.100.100.1:8090)에서 전송 -> 서버 (200.200.200.2:11220) tcp/ip 패킷에 출발지 포트와 목적지 포트가 있기때문에 서로 구분할 수 있다.
- ip가 아파트 port 몇동 몇호로 이해하면 된다.
- 0 ~ 65535까지 할당 가능하며 0~1023: 잘 알려진 포트로 사용하지 않는것이 좋다.
  - FTP - 20,21
  - TELNET -23
  - HTTP - 80
  - HTTPS - 443

## DNS (도메인 네임 시스템 Domain Name System)
- ip는 기억하기 어렵고 변경될 수 있다.
- ip가 변경되면 패킷을 전송할 수 없다.
- 중간에 전화번호부 같은 서버 DNS를 놓는다, 도메인 명을 IP주소로 변환해주는 역할을 한다.

## Ref.
- <a href="https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard">김영한님의 HTTP 강의</a>
