---
layout: default
title: TIL_220922
parent: Spring
last_modified_at: "22.09.22"
---

# TIL_220922
{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

## 좋은 객체 지향 프로그램이란?
- 유연하고 변경에 용이해진다.
- 다형성
  - 역할과 구현으로 구분
  - 운전자 역할과 자동차 역할이 있다.
  - k3탔다가 아반떼 탄다고 해서 자동차의 역할과 운전자의 역할이 바뀌지 않는다.
  - 운전자 때문에 이렇게 한 것. 운전자(클라이언트)는 내부 구조를 몰라도 된다. 운전자는 자동차를 변경해도 그대로 운전할 수 있다. <span class="bg-green-100">운전자를 바꿀 필요가 없다.</span>
  - 클라이언트는 대상의 역할(인터페이스)만 알면 된다.
  - 클라이언트는 내부 구조를 몰라도 된다.
  - 클라이언트는 구현 대상의 내부 구조가 변경되어도 영향을 받지 않는다.
  - 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않는다.
  - 자바 언어의 다형성 오버라이딩으로 활용
  - 역할과 구현을 분리하게 되면 확장 가능한 설계가 가능하다
  - 역할 자체가 변하면 클라이언트, 서버 모두에 큰 변경이 발생한다.
  - <span class="bg-green-100">인터페이스를 안정적으로 잘 설계하는 것(변화를 최소화 하는 것)이 가장중요하다.</span>

## 스프링과 객체 지향
- 객체 지향의 꽃은 다형성이다. 
- 스프링은 다형성을 극대화해서 이용할 수 있게 도와준다.
- IoC, DI는 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원한다.

## 좋은 객체 지향 설계의 5가지 원칙 (SOLID)
- 클린코드로 유명한 로버트 마틴이 좋은 객체 지향 설계의 5가지 원칙을 정리

1. SRP 단일 책임 원칙 (Single Responsibility principle)
- 한 클래스는 하나의 책임만 가져야 한다.
- 하나의 책임이라는 것은 클수도 있고 작을 수도 있고 실무에서는 사실 모호하다.
- 그렇다면 어떤것이 설계가 잘 됐다고 볼 수 있을까? 중요한 기준은 변경이다. 변경이 있을 때 파급 효과가 적으면 단일 책임 원칙을 잘 따른 것이다.
- 예를들어 UI를 변경하면 나머지 코드를 다고쳐야한다. -> 잘 못 된것, 계층을 분리해야함.
- 적절하게 범위를 정해야함, 범위를 크게하면 너무 책임이 많고 작게하면 너무 적다

2. OCP 개방-폐쇄 원칙 (Open/Closed principle)
- 소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야한다.
- 다형성을 활용해보자. 
- 다음코드에는 문제가 있다.
```java
MemberRepository m = new MemoryMemberRepository(); //기존코드
MemberRepository m = new JdbcMemberRepository(); //변경코드
```
- MemberService 클라이언트가 구현 클래스를 직접 선택하고 있다.
- 구현 객체를 변경하려면 클라이언트 코드를 변경해야한다. => OCP 원칙이 깨진다.
- 이 문제를 해결하려면 객체를 생성하고, 연관관계를 맺어주는 별도의 조립, 설정자가 필요한다. => 스프링 컨테이너


3. 


## Ref.
- <a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard">김영한님의 스프링 강의</a>
